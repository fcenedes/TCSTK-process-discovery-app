<div fxLayout="column" fxFill>
    <div style="padding: 20px;overflow:auto" fxLayout="column" fxFlex>
        <div fxLayout="row" fxLayoutAlign="start start" style="height: 20px">
            <p>Here you can configure existing datasources and register new ones</p>
        </div>
        <div fxLayout="row wrap">
            <div *ngIf="documents && documents.length > 0">
                <div class="tcs-document-detail-box tcs-document" *ngFor="let document of documents | orderByDate: 'lastModifiedDate'" fxLayout="column">
                    <div class="tcs-document-box" fxLayoutAlign="space-between center" fxLayout="row" fxFlex>
                        <div fxLayoutAlign="start center">
                            <mat-icon class="tcs-icon tcs-icon-active tcs-document-type-icon"
                                svgIcon="tcs-document-{{document.fileIcon}}"></mat-icon>
                        </div>
                        <div class="tcs-document-details-text-box" fxLayout="column" fxLayoutAlign="center start" fxFlex>
                            <div fxLayout="row" fxLayoutAlign="start center" fxFill>
                                <div class="tcs-document-name-text" matTooltip="{{document.name}}" matTooltipShowDelay="1000"
                                    matTooltipPosition="below">{{document.name | ellipsis: 30}}</div>
                                <div fxLayout="row" fxLayoutAlign="end center" fxFlex>
                                    <div class="tcs-document-filesize-text">&nbsp;({{document.fileSize}})</div>
                                </div>
                            </div>
                            <div class="tcs-document-comment-text" matTooltip="{{document.description}}" matTooltipShowDelay="1000"
                                matTooltipPosition="below">{{document.description | ellipsis: 50}}</div>
                            <div fxLayout="row" fxLayoutAlign="start center">
                                <div class="tcs-document-modified-text">{{document.lastModifiedDate | durationSince}}</div>
                                <div *ngIf="document.lastModifiedByDetails" class="tcs-document-modified-text"
                                    matTooltip="{{document.lastModifiedByDetails.username}}" matTooltipShowDelay="1000"
                                    matTooltipPosition="below">&nbsp;by {{document.lastModifiedByDetails.username | ellipsis: 40}}
                                </div>
                            </div>
                        </div>

                        <div fxLayoutAlign="end center">
                            <mat-icon [matMenuTriggerFor]="docActionMenu" class="tcs-icon tcs-icon-active tcs-document-action-icon" svgIcon="tcs-document-action"></mat-icon>
                            <mat-menu #docActionMenu="matMenu" class="tcs-icon tcs-icon-active tcs-document-action-icon">
                                <button class="tcs-document-action-text" mat-menu-item>View</button>
                                <button class="tcs-document-action-text" mat-menu-item>Download</button>
                                <button class="tcs-document-action-text" mat-menu-item (click)="removeDocument(document)">Delete</button>
                                <button class="tcs-document-action-text" mat-menu-item (click)="createDatasource(document)">Create datasource</button>
                            </mat-menu>
                        </div>
                    </div>
                    <div class="tcs-document-line"></div>
                </div>
            </div>
        </div>
        <div fxFlex class="tcs-filler-panel"></div>
        <div fxLayout="row" fxLayoutAlign="end end" fxLayoutGap="10px" style="min-height: 50px">
            <button mat-raised-button color="secondary" (click)="createNewDatasource()">New Business Process</button>
            <button mat-raised-button color="primary" (click)="uploadNewFile()">Upload new file</button>
        </div>
    </div>
</div>